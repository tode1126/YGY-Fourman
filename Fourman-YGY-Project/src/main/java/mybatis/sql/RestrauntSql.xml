<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="restraunt">
	<insert id="restrauntInsert" parameterType="rdto">
		insert into restraunt (user_info_email, rest_name, rest_category, 
			rest_phone, rest_addr, rest_start, rest_end, rest_state, 
			rest_regdate) 
			VALUES(#{user_info_email}, #{rest_name}, #{rest_category}, 
				#{rest_phone}, #{rest_addr}, #{rest_start}, #{rest_end}, #{rest_state},
				now());
	</insert>
	<select id="restraunt_pkByEmailSelect" parameterType="String" resultType="int">
		select rest_pk from restraunt where user_info_email = #{email}
	</select>
	<insert id="restraunt_menuInsert" parameterType="rmdto">
		INSERT INTO restraunt_menu (restraunt_rest_pk, menu_category, 
			menu_name, menu_price, menu_desc, menu_imagefile) 
			VALUES (#{restraunt_rest_pk}, #{menu_category}, 
				#{menu_name}, #{menu_price}, #{menu_desc}, #{menu_imagefile})
	</insert>
	<select id="restraunt_menuCountSelect" parameterType="int" resultType="int">
		select count(*) from restraunt_menu where restraunt_rest_pk = #{restraunt_rest_pk}
	</select>
	<select id="restraunt_menuSelect" parameterType="int" resultType="rmdto">
		select * from restraunt_menu where restraunt_rest_pk = #{restraunt_rest_pk} order by menu_pk asc
	</select>
	
</mapper>